vocab:
  type: Hierachy_Vocab
  path:
    train: /kaggle/input/wikilingual-test-2/datasets/datasets/Wikilingual-dataset/train.json
    dev: /kaggle/input/wikilingual-test-2/datasets/datasets/Wikilingual-dataset/dev.json
    test: /kaggle/input/wikilingual-test-2/datasets/datasets/Wikilingual-dataset/test.json
  min_freq: 3
  bos_token: <bos>
  eos_token: <eos>
  unk_token: <unk>
  pad_token: <pad>
  # tokenizer: underthesea (Code dùng underthesea, không cần config spacy model)
  pos_tags: [] # Có thể điền list POS tag nếu muốn fix cứng, hoặc để trống tự học
  ner_tags: [] # Tương tự với NER
  tfidf:
    smooth_idf: true
    sublinear_tf: true

dataset:
  train:
    type: TextSumDataset_Hierarchical
    path: /kaggle/input/wikilingual-test-2/datasets/datasets/Wikilingual-dataset/train.json
  dev:
    type: TextSumDataset_Hierarchical
    path: /kaggle/input/wikilingual-test-2/datasets/datasets/Wikilingual-dataset/dev.json
  test:
    type: TextSumDataset_Hierarchical
    path: /kaggle/input/wikilingual-test-2/datasets/datasets/Wikilingual-dataset/test.json
  
  # Batch size nên nhỏ một chút vì mô hình Phân cấp (3D Tensor) tốn VRAM
  batch_size: 1
  num_workers: 4

model:
  name: AbstractiveTextSummarize_Wikilingual
  architecture: AbstractiveTextSummarize
  d_model: 512 # Kích thước chung
  device: cuda
  
  encoder:
    # Các tham số cho Feature Rich Encoder
    emb_dim: 128       # Kích thước word embedding
    pos_dim: 32        # Kích thước POS embedding
    ner_dim: 32        # Kích thước NER embedding
    tfidf_dim: 16      # Kích thước TF-IDF embedding
    
    hidden_size: 256   # Hidden size của Encoder GRU (Bi-dir sẽ thành 512)
    dropout: 0.3
    num_layers: 1     # Số lớp GRU (trong code bạn dùng config.layer_dim hoặc config.num_layers)
    
  decoder:
    hidden_size: 512   # Phải khớp với encoder output (256 * 2 = 512)
    layer_dim: 1
    dropout: 0.3
    
training:
  checkpoint_path: checkpoints/hierarchical_pgn
  learning_rate: 0.001
  warmup: 2000
  patience: 5
  score: rouge-L
  clip_grad: 2.0      # Gradient clipping

task: TextSumTaskOOV_v2  # Tên task khớp với class @META_TASK